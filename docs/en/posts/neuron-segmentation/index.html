<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Neuron Segmentation | Sigurd</title>
<meta name="keywords" content="">
<meta name="description" content="Image: Scan of a part of nervous tissue. Bioscience Image Library, Fayette Reynolds.
During my final year of my computer vision degree, I wrote a paper titled &ldquo;Know Your Neighbour&rdquo;. In it, I highlighted how techniques in machine learning can be used to improve the efficiency of what&rsquo;s called &ldquo;3-dimensional neuron segmentation&rdquo;, i.e, the process of identififying neurons in 3D space. Both me and my supervisor were very happy with the results, so I decided to write this blog, explaining what it is, how it works and what implications it can have for the future of neuroscience.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/en/posts/neuron-segmentation/">
<meta name="google-site-verification" content="XYZabc">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/en/posts/neuron-segmentation/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:title" content="Neuron Segmentation" />
<meta property="og:description" content="Image: Scan of a part of nervous tissue. Bioscience Image Library, Fayette Reynolds.
During my final year of my computer vision degree, I wrote a paper titled &ldquo;Know Your Neighbour&rdquo;. In it, I highlighted how techniques in machine learning can be used to improve the efficiency of what&rsquo;s called &ldquo;3-dimensional neuron segmentation&rdquo;, i.e, the process of identififying neurons in 3D space. Both me and my supervisor were very happy with the results, so I decided to write this blog, explaining what it is, how it works and what implications it can have for the future of neuroscience." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/en/posts/neuron-segmentation/" /><meta property="article:section" content="en" />
<meta property="article:published_time" content="2024-09-02T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-09-02T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Neuron Segmentation"/>
<meta name="twitter:description" content="Image: Scan of a part of nervous tissue. Bioscience Image Library, Fayette Reynolds.
During my final year of my computer vision degree, I wrote a paper titled &ldquo;Know Your Neighbour&rdquo;. In it, I highlighted how techniques in machine learning can be used to improve the efficiency of what&rsquo;s called &ldquo;3-dimensional neuron segmentation&rdquo;, i.e, the process of identififying neurons in 3D space. Both me and my supervisor were very happy with the results, so I decided to write this blog, explaining what it is, how it works and what implications it can have for the future of neuroscience."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Neuron Segmentation",
      "item": "http://localhost:1313/en/posts/neuron-segmentation/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Neuron Segmentation",
  "name": "Neuron Segmentation",
  "description": "Image: Scan of a part of nervous tissue. Bioscience Image Library, Fayette Reynolds.\nDuring my final year of my computer vision degree, I wrote a paper titled \u0026ldquo;Know Your Neighbour\u0026rdquo;. In it, I highlighted how techniques in machine learning can be used to improve the efficiency of what\u0026rsquo;s called \u0026ldquo;3-dimensional neuron segmentation\u0026rdquo;, i.e, the process of identififying neurons in 3D space. Both me and my supervisor were very happy with the results, so I decided to write this blog, explaining what it is, how it works and what implications it can have for the future of neuroscience.",
  "keywords": [
    
  ],
  "articleBody": " Image: Scan of a part of nervous tissue. Bioscience Image Library, Fayette Reynolds.\nDuring my final year of my computer vision degree, I wrote a paper titled “Know Your Neighbour”. In it, I highlighted how techniques in machine learning can be used to improve the efficiency of what’s called “3-dimensional neuron segmentation”, i.e, the process of identififying neurons in 3D space. Both me and my supervisor were very happy with the results, so I decided to write this blog, explaining what it is, how it works and what implications it can have for the future of neuroscience.\nIn November of 2022, researchers at Cambridge University and Johns Hopkins University published a preprint of their paper called “The connectome of an insect brain”. It was the culmination of years of work and showed the first ever digital reconstruction of the brain map (connectome) of a complex brain. Painstakingly, the researchers mapped out every single neuron and every single synapse of a fruit fly from a dataset of 4841 electron microscopy (EM) images.\nIt was a huge endevour and a groundbreaking leap for neuroscientists and biologists, who finally had a complete model of a mind. Creating an algorithm that tracks signals across the brain, researchers got insight into how information moves between neurons and what parts of the brain are responsible for which senses. For example, the researchers discovered that most neurons have many hats, being responsible for many different operations simultaniously. With a bachelor’s degree in cognitive science, I immediately pondered what impact such a neuronal connectome would have on research into human brains. Maybe it could allow us to gain a better understanding of cognitive disseases or genetically maligned neural pathways.\nThe resulting connectome. Credit: Research article in Science\nMy theory was that computational processing could be used to automate neuron segmentation on EM images from human brains more efficiently than human annotation. This is obviously not a novel idea, but perhaps it’s not entirely commonsensical as to why it hasn’t been done yet. Firstly, the fruit fly that was mapped only had 3016 neurons and 548,000 synapses. The human brain, on the other hand, is estimated to contain 86 billion neurons. How many synapses do we then have? Over 100 trillion. To put that number into perspective, there’s about 1000 times as many synapses in our brains as there are stars in the milky way. Google recently performed the largest brain scan ever on a 1 cubic mm large area of the brain. The reconstruction required more than 5000 slices of tissue over the course of a year. What was the size of the resulting dataset? 1.4 petabytes, equivalent to 14 000 4K movies. Extrapolated out then, how much storage would we need to do a full brain scan? 1.6 zettabytes, costing $50 billion and spanning 140 acres, making it the largest data center on the planet – just for a single image.\nSo how do we process that many images? My approach is to depart from processing 3-dimensional reconstructions as they require too much processing power to process. Instead, I theorised that it would be way faster – and importantly equally accurate – to process each slice separately and then project that in 3D space. But how would the program know that a neuron in one slice is the continuation of the neuron from the last slice? This is where my academic contribution comes in. I hypothesised that we could train the model how to know which parts of a slice are connected by using transfer learning. Transfer learning is a popular technique of machine learning where the knowledge gained from one step is transferred to the next step. A common use case is when you’re building a model that can classify new classes with little or no data, for example when training a computer vision model to recognise a zebra from data on a horse.\nAn example of what a slice in my dataset looked like.\nTo prove my hypothesis, I tested the program on a huge dataset of 3D neuron images using my processing technique. After some preprocessing, each 3D image was segmented and a resulting list of neurons was returned. It worked! I also tried to run a 3D segmentation algorithm on the same dataset. The results? My program was almost twice as fast as the 3D algorithm!\nLooking forward, the potential applications of this technique are immense. By significantly reducing the time and computational resources required for neuron segmentation, we are opening the door to more extensive and detailed studies of the human brain. This advancement could accelerate research into neurological disorders, cognitive diseases, and the development of more sophisticated brain-computer interfaces. I don’t think this technique will be used on a full dataset anytime soon, as there are many bottlenecks to solve before a human connectome is tangible. That said, I believe new advancements in AI is pivotal to our understanding of the interconnection of human brains. I’m looking forward to seeing where the science takes us.\n– Sigurd\n",
  "wordCount" : "836",
  "inLanguage": "en",
  "datePublished": "2024-09-02T00:00:00Z",
  "dateModified": "2024-09-02T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/en/posts/neuron-segmentation/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Sigurd",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Sigurd Setså (Alt + H)">
                <img src="http://localhost:1313/android-chrome-512x512.png" alt="" aria-label="logo"
                    height="35">Sigurd Setså</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/false/" title="False"
                            aria-label="False">False</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/" title="About me">
                    <span>About me</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/recipes/" title="Recipes">
                    <span>Recipes</span>
                </a>
            </li>
            <li>
                <a href="https://linkedin.com/in/sigurds" title="LinkedIn">
                    <span>LinkedIn</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Neuron Segmentation
    </h1>
    <div class="post-meta"><span title='2024-09-02 00:00:00 +0000 UTC'>September 2, 2024</span>&nbsp;·&nbsp;4 min

</div>
  </header> 
  <div class="post-content"><p><img loading="lazy" src="/bioscience-image-library-by-fayette-reynolds-WkDk5Dt3tk0-unsplash.jpg" alt="Illustration"  />
Image: Scan of a part of nervous tissue. <em>Bioscience Image Library, Fayette Reynolds.</em></p>
<h1 id="heading"><a hidden class="anchor" aria-hidden="true" href="#heading">#</a></h1>
<h1 id="heading-1"><a hidden class="anchor" aria-hidden="true" href="#heading-1">#</a></h1>
<p><em>During my final year of my computer vision degree, I wrote a paper titled &ldquo;Know Your Neighbour&rdquo;. In it, I highlighted how techniques in machine learning can be used to improve the efficiency of what&rsquo;s called &ldquo;3-dimensional neuron segmentation&rdquo;, i.e, the process of identififying neurons in 3D space. Both me and my supervisor were very happy with the results, so I decided to write this blog, explaining what it is, how it works and what implications it can have for the future of neuroscience.</em></p>
<h1 id="heading-2"><a hidden class="anchor" aria-hidden="true" href="#heading-2">#</a></h1>
<h1 id="heading-3"><a hidden class="anchor" aria-hidden="true" href="#heading-3">#</a></h1>
<p>In November of 2022, researchers at Cambridge University and Johns Hopkins University <a href="https://www.biorxiv.org/content/10.1101/2022.11.28.516756v1">published</a> a preprint of their paper called &ldquo;<a href="https://www.science.org/doi/10.1126/science.add9330">The connectome of an insect brain</a>&rdquo;. It was the culmination of years of work and showed the first ever digital reconstruction of the brain map (connectome) of a complex brain. Painstakingly, the researchers mapped out every single neuron and every single synapse of a fruit fly from a dataset of 4841 electron microscopy (EM) images.</p>
<p>It was a huge endevour and a groundbreaking leap for neuroscientists and biologists, who finally had a complete model of a mind. Creating an algorithm that tracks signals across the brain, researchers got insight into how information moves between neurons and what parts of the brain are responsible for which senses. For example, the researchers discovered that most neurons have many hats, being responsible for many different operations simultaniously. With a bachelor&rsquo;s degree in cognitive science, I immediately pondered what impact such a neuronal connectome would have on research into human brains. Maybe it could allow us to gain a better understanding of cognitive disseases or genetically maligned neural pathways.</p>
<p><img loading="lazy" src="/connectome.png" alt="Connectome of the fruit fly"  />
<em>The resulting connectome. Credit: <a href="https://www.science.org/doi/10.1126/science.add9330">Research article in Science</a></em></p>
<p>My theory was that computational processing could be used to automate neuron segmentation on EM images from human brains more efficiently than human annotation. This is obviously not a novel idea, but perhaps it&rsquo;s not entirely commonsensical as to why it hasn&rsquo;t been done yet. Firstly, the fruit fly that was mapped only had 3016 neurons and 548,000 synapses. The human brain, on the other hand, is estimated to contain 86 billion neurons. How many synapses do we then have? <strong>Over 100 trillion.</strong> To put that number into perspective, there&rsquo;s about 1000 times as many synapses in our brains as there are stars in the milky way. Google recently performed the largest brain scan ever on a 1 cubic mm large area of the brain. The reconstruction required more than 5000 slices of tissue over the course of a year. What was the size of the resulting dataset? 1.4 petabytes, equivalent to 14 000 4K movies. Extrapolated out then, how much storage would we need to do a full brain scan? 1.6 zettabytes, costing $50 billion and spanning 140 acres, making it the largest data center on the planet – just for a single image.</p>
<p>So how do we process that many images? My approach is to depart from processing 3-dimensional reconstructions as they require too much processing power to process. Instead, I theorised that it would be way faster – and importantly equally accurate – to process each slice separately and then project that in 3D space. But how would the program know that a neuron in one slice is the continuation of the neuron from the last slice? This is where my academic contribution comes in. I hypothesised that we could train the model how to know which parts of a slice are connected by using transfer learning. Transfer learning is a popular technique of machine learning where the knowledge gained from one step is transferred to the next step. A common use case is when you&rsquo;re building a model that can classify new classes with little or no data, for example when training a computer vision model to recognise a zebra from data on a horse.</p>
<p><img loading="lazy" src="/test_data.png" alt="An example of what a slice in my dataset looked like."  />
<em>An example of what a slice in my dataset looked like.</em></p>
<p>To prove my hypothesis, I tested the program on a huge dataset of 3D neuron images using my processing technique. After some preprocessing, each 3D image was segmented and a resulting list of neurons was returned. It worked! I also tried to run a 3D segmentation algorithm on the same dataset. The results? My program was almost twice as fast as the 3D algorithm!</p>
<p>Looking forward, the potential applications of this technique are immense. By significantly reducing the time and computational resources required for neuron segmentation, we are opening the door to more extensive and detailed studies of the human brain. This advancement could accelerate research into neurological disorders, cognitive diseases, and the development of more sophisticated brain-computer interfaces. I don&rsquo;t think this technique will be used on a full dataset anytime soon, as there are many bottlenecks to solve before a human connectome is tangible. That said, I believe new advancements in AI is pivotal to our understanding of the interconnection of human brains. I&rsquo;m looking forward to seeing where the science takes us.</p>
<p>– Sigurd</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Sigurd</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
